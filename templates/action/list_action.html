{% extends 'common/base_list.html' %}
{% load static %}

{% block toolbar %}
    <button type="button" class="btn btn-danger"
            data-kt-menu-placement="bottom-end" id="delete_all">
        <i class="ki-duotone ki-trash fs-2">
            <span class="path1"></span>
            <span class="path2"></span>
            <span class="path3"></span>
            <span class="path4"></span>
            <span class="path5"></span>
        </i>
        Eliminar
    </button>
    <div class="w-200px">
        <select class="form-select" data-control="select2" data-hide-search="true"
                data-placeholder="Estado de la acción" data-kt-accion-adaptacion-filter="estado_accion">
            <option></option>
            <option value="Todos">Todos</option>
            {% for estado in estados_accion %}
                <option value="{{ estado.nombre }}">{{ estado }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="button" class="btn btn-secondary" data-kt-menu-trigger="click"
            data-kt-menu-placement="bottom-end">
        <i class="ki-duotone ki-exit-up fs-2"><span class="path1"></span><span
                class="path2"></span></i>
        Exportar
    </button>
    {% include 'layout/menu_export_datatable.html' %}
    <div id="kt_datatable_example_buttons" class="d-none"></div>
{% endblock %}
{% block thead %}
    <tr>
        <th class="w-10px pe-2">
            <div class="form-check form-check-sm form-check-custom me-3">
                <input class="form-check-input" type="checkbox" data-kt-check="true"
                       data-kt-check-target="#kt_datatable_acciones_adaptacion .form-check-input" value="1"/>
            </div>
        </th>
        <th>Acción</th>
        <th>Tipo</th>
        <th>Sector</th>
        <th class="text-center">Estado</th>
        <th class="text-center">Opciones</th>
    </tr>
{% endblock %}
{% block tbody %}
    {% for element in actions %}
        <tr data-id="{{ element.id }}">
            <td>
                <div class="form-check form-check-sm form-check-custom">
                    <input class="form-check-input" type="checkbox" value="1"/>
                </div>
            </td>
            <td class="p-2 ">{{ element.nombre }}</td>
            <td class=" fw-bold">{{ element.tipo_accion.nombre }}</td>
            <td class=" fw-bold">{{ element.sector.nombre }}</td>
            <td class="text-center">
                <div class="badge p-5 fw-bold {% if element.estado_accion.orden == 1 %}badge-light-danger{% elif element.estado_accion.orden == 2 %}badge-light-primary{% elif element.estado_accion.orden == 3 %}badge-light-success{% endif %}">{{ element.estado_accion.nombre }}</div>
            </td>
            <td class="text-center">
                {% include 'common/actions_list.html' with element=element %}

            </td>
        </tr>
    {% endfor %}
{% endblock %}
{% block js_table %}
    <script src="{% static 'assets/js/datatable_acciones.js' %}"></script>
{% endblock %}